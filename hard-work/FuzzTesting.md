# Отчет о фаз-тестировании.

Я пишу frontend React + Typescript. Решил изучить как фаззинг можно прикрутить к интерфейсу.  
Проект довольно таки большой, разрабатывается уже 4 года и понятное дело, что весь проект профазить не получится, но я решил применить фаззинг к одному небольшому модулю - функции-маске.

Функция представляет из себя порядка 200-сот строк кода. Суть проста:  
На вход: "Любая строка от пользователя", на выход: "строка, которая удовлетворяет конкретному полю".  
Другими словами, эта функция обеспечивала то, что бы в поле (например даты) вводились символы предназначенные только для даты. Все остальное отбросить.

Идеальный кейс для фазз-тестирования.

Сложность была в том, что бы этот процесс организовать.  
Я использовал библиотеку Jazzer для js - https://github.com/CodeIntelligenceTesting/jazzer.js  
Она работает на Node.js но по умолчанию не поддерживает синтаксис _import_-ов, а поддерживает только _require(/../)_
Я банально не мог импортировать функцию, которую хочу зафазить в среду фаззинга.

Тогда я стал запускать Jazzer на базе Jest. Благо у ребят есть документация по интеграции (они впринципе сами топят за то, что бы запускали вместе с Jest) https://github.com/CodeIntelligenceTesting/jazzer.js  
Jest - это такая же распространенная библиотека для тестирования JS как JUnit для Java.

Но у меня оставалась проблема с тем, что бы импортировать мою функцию при помощи _import_

Тогда я начал запускать jest в эксперементальном режиме, который поддерживает ES6 модули.
_--experimental-vm-modules_

После этого я начал непосредственно фазить функцию.  
Нашлось 16 случаев - комбинаций строк, при которых форматированние работало не так как нужно.

Далее, я решил протестировать компонент - регистрация пользователя в системе.  
Я использовал нативное WEB API для получения полей, а вот значения в эти поля вставлял из Jazzer.  
Таким образом удалось поймать баг - при пароле в виде регулярных выражений фронт зависает.  
Он начинает сравнивать 2 регулярных выражения и зацикливается.  

Резюмируя все вышесказанное - мне удалось организвать фаззинг для 2-х небольших модулей системы.  
Если меня спросят - как увеличить отказоустойчивость приложения - я назову фаззинг как один из вариантов.  
Фаззинг не подходит для стартапов.