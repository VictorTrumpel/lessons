# Отчет по работе правильное отношение к тестам

На данный момент в нашем проекте TDD это продктивная текхника тестирования.

Первый плюс - мы пишем много тестов. Мы пишем только unit тесты. Очень хорошо unit тесты ложаться на компоненты и классы, которые лежат в *shared* слое (максимально реиспользуемые). 

Легче проводить рефакторинг.

Думаем о том как код будет проверяться.

Конкретный кейс как такие тесты нам недавно помогли очень сильно: 

Мы поняли, что нам нужно переехать на монорепозитории + заменить движок, который рендерит 3D модели. Мы смогли взять наш весь view слой и без проблем перенести его в новую репу и сделать необходимые изменения. Т.к. весь view был покрыт тестами, мы были уверены, что view перенесено без ошибок.

Из минусов

TDD не выстраивает наш дизайн и наше АПИ. Это возможно сделать, но есть ограничения.

Например если использовать TDD как дизайн систему, то мы должны избавиться от понятий "рендерин", "монтирование" "размонтирование" компонента. Описание теста должно быть декларативным, верхнеуровневым. А от таких деталей работы браузера порой невозможно уйти. Поэтому очень часто дизайн тесты скатываются в обычные тесты.

Мы используем ручное тестирование.

У нас есть e2e тесты.

Физически очень сложно покрывать каждую строчку кода тестами, потому что, например, содержимое React компонента (функция, которая что-то рендерит) инкапсулировано в самой функции.

Есть способы как поднять это наружу, но это очень сильно запутает код.

Вывод:
Мы используем TDD как технику тестирования. 
Плюсы:
- есть тесты
- легкий рефакторинг
- наличие хотя бы одного пользователя

Минусы:
- приходится использовать много других техник тестирования
- не отлавливаем ошибки на более серьезном уровне (только unit тесты)
- страдает дизайн (programming in large)